<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Reverse Engineering Hi-Hive Community | Yii Kuo Chong</title>
<meta name=keywords content="react-native,android,javascript,reverse-engineering"><meta name=description content="During COVID-19, my university (UTAR) debuted an attendance tracking called Hi-Hive Community. A lecturer would present a QR code, and the students will scan it to take attendance.
After using the application for a few years, I noticed that it was too bloated with unnecessary features, it&rsquo;s not very responsive, and important items are buried in unending levels of menus.
Thus, I have the idea of rebuilding the application using Kotlin, Jetpack Compose, and more modern UI frameworks."><meta name=author content="Yii Kuo Chong / 俞國忠"><link rel=canonical href=https://yiikuochong.com/posts/reverse-engineering-hi-hive-community/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://yiikuochong.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yiikuochong.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yiikuochong.com/favicon-32x32.png><link rel=apple-touch-icon href=https://yiikuochong.com/apple-touch-icon.png><link rel=mask-icon href=https://yiikuochong.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-J2N6RFYFZH"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-J2N6RFYFZH",{anonymize_ip:!1})}</script><meta property="og:title" content="Reverse Engineering Hi-Hive Community"><meta property="og:description" content="During COVID-19, my university (UTAR) debuted an attendance tracking called Hi-Hive Community. A lecturer would present a QR code, and the students will scan it to take attendance.
After using the application for a few years, I noticed that it was too bloated with unnecessary features, it&rsquo;s not very responsive, and important items are buried in unending levels of menus.
Thus, I have the idea of rebuilding the application using Kotlin, Jetpack Compose, and more modern UI frameworks."><meta property="og:type" content="article"><meta property="og:url" content="https://yiikuochong.com/posts/reverse-engineering-hi-hive-community/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-09T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-09T00:00:00+00:00"><meta property="og:site_name" content="Welcome to my space!"><meta name=twitter:card content="summary"><meta name=twitter:title content="Reverse Engineering Hi-Hive Community"><meta name=twitter:description content="During COVID-19, my university (UTAR) debuted an attendance tracking called Hi-Hive Community. A lecturer would present a QR code, and the students will scan it to take attendance.
After using the application for a few years, I noticed that it was too bloated with unnecessary features, it&rsquo;s not very responsive, and important items are buried in unending levels of menus.
Thus, I have the idea of rebuilding the application using Kotlin, Jetpack Compose, and more modern UI frameworks."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://yiikuochong.com/posts/"},{"@type":"ListItem","position":3,"name":"Reverse Engineering Hi-Hive Community","item":"https://yiikuochong.com/posts/reverse-engineering-hi-hive-community/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Reverse Engineering Hi-Hive Community","name":"Reverse Engineering Hi-Hive Community","description":"During COVID-19, my university (UTAR) debuted an attendance tracking called Hi-Hive Community. A lecturer would present a QR code, and the students will scan it to take attendance.\nAfter using the application for a few years, I noticed that it was too bloated with unnecessary features, it\u0026rsquo;s not very responsive, and important items are buried in unending levels of menus.\nThus, I have the idea of rebuilding the application using Kotlin, Jetpack Compose, and more modern UI frameworks.","keywords":["react-native","android","javascript","reverse-engineering"],"articleBody":"During COVID-19, my university (UTAR) debuted an attendance tracking called Hi-Hive Community. A lecturer would present a QR code, and the students will scan it to take attendance.\nAfter using the application for a few years, I noticed that it was too bloated with unnecessary features, it’s not very responsive, and important items are buried in unending levels of menus.\nThus, I have the idea of rebuilding the application using Kotlin, Jetpack Compose, and more modern UI frameworks.\nTo do so, I first needed to figure how the API works.\nPreliminary Analysis Through regular usage, I suspected that it uses some kind of web/mobile hybrid framework.\nSome symptoms I’ve noticed are:\nSlow and slightly off user interface - There will be slight delays when tapping on elements, animation is slow, and low frame rates at times. Lack of uniformity in the components - A lot of the components seems custom made. There are a mix of native elements with custom ones. Existence of web-view pages - Some of the functions are loaded through webview. All in all it feels like using a website. My gut feelings tell me that it’s a web/mobile hybrid framework. Most likely using React Native.\nDissecting the Application The only method to really confirm this is by cracking it open and have a look at the internals. Here, I will be using version 2.3.1 of the application downloaded from ApkPure.\nUnpacking the .apk I unpacked the .apk using jadx and immediately there are telltale signs of React Native.\nFor example, this image below shows configuration for a react native push notification library.\nWhich upon further investigation, it appears that this was the library used: https://github.com/zo0r/react-native-push-notification. It’s a React Native library.\nChecking for presence of index.android.bundle Furthermore, there is also presence of index.android.bundle as seen below.\nThe index.android.bundle contains compiled and bundled JavaScript code for the application. Only React Native bundles this.\nDisassembling Hermes Bytecode Immediately, I tried to open the bundle using a text editor but it showed an error.\nAfter a google search, I found out that Hermes VM is the default compilation target for more recent versions of React Native. Which is confirmed using the file command:\nFortunately, P1 Security released a tool to disassemble, and decompile Hermes bytecodes.\nUsing the tool (hermes-dec), I disassembled the Hermes bytecode into somewhat readable pseudo-javascript.\nHowever this is still super unreadable, due to it being converted from javascript to obfuscated javascript to hermes bytecode to decompiled WASM to javascript pseudocode.\nThis meant that it’s a “readable” version of the WASM instructions, not how the original code is structured.\nIdeally, I want to get the version of the application that converted javascript to obfuscated javascript which should be more readable, and actually represent the original code.\nBack to the square one and cracking an older version The hermes-dec project README states that React Native only started targetting the Hermes VM by default after React Native v0.70.\nI thought, what if the targetting of Hermes VM isn’t actually on purpose by the developer? So I grabbed version 1.0.2 of the application which was released before React Native v0.70, and cracked it open.\nAs predicted! The index.android.bundle file is only obfuscated Javascript, not Hermes bytecode!\nThis is a more readable version of the index.android.bundle file compared to the one from version 2.3.1, not by much but it’s still better than nothing.\nWhat this means is that I now have a base from which to reverse engineer the API used by the application.\nReverse engineering and mapping the API After a bit of searching, I found the following parts. It seems to be an object containing the API domain, and all the endpoints.\nNOTE: Through comparing v1.0.2 and v2.3.1, I noticed that API_DOMAIN was pointing to www.silverlakemobility.com in v1.0.2 but is now pointing to www.hi-hive.com in v2.3.1.\nTo implement the application, I only need to figure out some of the endpoints.\nThe API endpoints relevant to us are:\nAuthentication Listing classes, and attendance Scanning QR codes With these, I can start mapping the needed endpoints and figure out what to pass to it.\nCracking the authentication method Looking through the rest, I found a code snippet that shows how the API is being used. This snippet is a callback function for when the login button is pressed.\nIt seems to be a bunch of nested async functions, and what it does is:\nLoads a Firebase Cloud Messaging (FCM) token from local storage. Then use the token to encrypt the password using the convertPBEWithMD5AndDES function. Then pass the resulting encrypted password as part of the payload. The Login API Call The application then calls the login endpoint with the following JSON payload structure:\nPOST https://www.hi-hive.com/chat/api/preLogin/login\n{ \"userId\": \"your user email\", \"password\": \"encrypted version of your password\", \"os\": \"Ios or Android\", \"token\": \"The FCM token used to encrypt the password.\" } I suspect what happens here is that there was a requirement to not send passwords over the internet in plain text even when secured by SSL.\nThe token is also sent alongside the password, which I assume is used to decrypt it, and/or used to verify that the password was encrypted with a valid token, possibly ones related to the developer to prevent a third party client.\nRoadblock to putting together a library This puts a big roadblock on our goal. What effectively happens in the end is that the login method is made a lot harder to reverse engineer since you have to somehow generated the FCM token.\nOne method to solve this is to reverse engineer the FCM SDK, then figure out if it’s possible to generate legit FCM tokens, and then check if authentication would work with that generated token.\nUntil then, listing classes, listing attendance, and scanning QR codes is essentially unusable. It’ll probably stay that way since I’m not very interested in reverse engineering the FCM SDK, especially when I’m graduating and won’t be able to use the results myself.\nOther method (Network Monitoring) Apart from inspecting the unobfuscated code, I’ve used network monitoring to figure out the various endpoints and their needed payload which brought similar results.\nThis was achieved by:\nPreparing the application for network monitoring by: Cracking it open. Editing the AndroidManifest.xml file so that it trust user added SSL Certificates. Repacking, and installing it on a device. Preparing the device by installing a third party SSL Certificate from CharlesProxy. Monitoring the traffic of the device (and by proxy the application) using CharlesProxy. I was able to actually login using the tokens and encrypted password intercepted here which returned a session token, but I wasn’t able to capitalize on it due to the same problems stated before.\nConclusion So in summary, logging in returns a session token that you can use to access the other authenticated endpoints but since we need the token to encrypt the password, it’s not feasible to create a third party client unless we also reverse engineer Google’s FCM SDK.\nAll in all, a fun adventure, learnt quite a bit about Android and React Native + reverse engineering android applications.\n","wordCount":"1180","inLanguage":"en","datePublished":"2024-09-09T00:00:00Z","dateModified":"2024-09-09T00:00:00Z","author":{"@type":"Person","name":"Yii Kuo Chong / 俞國忠"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://yiikuochong.com/posts/reverse-engineering-hi-hive-community/"},"publisher":{"@type":"Organization","name":"Yii Kuo Chong","logo":{"@type":"ImageObject","url":"https://yiikuochong.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yiikuochong.com accesskey=h title="Yii Kuo Chong (Alt + H)">Yii Kuo Chong</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://yiikuochong.com/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://yiikuochong.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://yiikuochong.com/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://yiikuochong.com>Home</a>&nbsp;»&nbsp;<a href=https://yiikuochong.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Reverse Engineering Hi-Hive Community</h1><div class=post-meta><span title='2024-09-09 00:00:00 +0000 UTC'>September 9, 2024</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Yii Kuo Chong / 俞國忠</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#preliminary-analysis aria-label="Preliminary Analysis">Preliminary Analysis</a></li><li><a href=#dissecting-the-application aria-label="Dissecting the Application">Dissecting the Application</a><ul><li><a href=#unpacking-the-apk aria-label="Unpacking the .apk">Unpacking the .apk</a></li><li><a href=#checking-for-presence-of-indexandroidbundle aria-label="Checking for presence of index.android.bundle">Checking for presence of index.android.bundle</a></li><li><a href=#disassembling-hermes-bytecode aria-label="Disassembling Hermes Bytecode">Disassembling Hermes Bytecode</a></li><li><a href=#back-to-the-square-one-and-cracking-an-older-version aria-label="Back to the square one and cracking an older version">Back to the square one and cracking an older version</a></li></ul></li><li><a href=#reverse-engineering-and-mapping-the-api aria-label="Reverse engineering and mapping the API">Reverse engineering and mapping the API</a><ul><li><a href=#cracking-the-authentication-method aria-label="Cracking the authentication method">Cracking the authentication method</a><ul><li><a href=#the-login-api-call aria-label="The Login API Call">The Login API Call</a></li></ul></li><li><a href=#roadblock-to-putting-together-a-library aria-label="Roadblock to putting together a library">Roadblock to putting together a library</a></li></ul></li><li><a href=#other-method-network-monitoring aria-label="Other method (Network Monitoring)">Other method (Network Monitoring)</a></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><p>During COVID-19, my university (<a href=https://utar.edu.my/>UTAR</a>) debuted an attendance tracking called Hi-Hive Community. A lecturer would present a QR code, and the students will scan it to take attendance.</p><p>After using the application for a few years, I noticed that it was too bloated with unnecessary features, it&rsquo;s not very responsive, and important items are buried in unending levels of menus.</p><p>Thus, I have the idea of rebuilding the application using Kotlin, Jetpack Compose, and more modern UI frameworks.</p><p>To do so, I first needed to figure how the API works.</p><h1 id=preliminary-analysis>Preliminary Analysis<a hidden class=anchor aria-hidden=true href=#preliminary-analysis>#</a></h1><p>Through regular usage, I suspected that it uses some kind of web/mobile hybrid framework.</p><p>Some symptoms I&rsquo;ve noticed are:</p><ol><li><strong>Slow and slightly off user interface</strong> - There will be slight delays when tapping on elements, animation is slow, and low frame rates at times.</li><li><strong>Lack of uniformity in the components</strong> - A lot of the components seems custom made. There are a mix of native elements with custom ones.</li><li><strong>Existence of web-view pages</strong> - Some of the functions are loaded through webview.</li></ol><p>All in all it <em>feels</em> like using a website. My gut feelings tell me that it&rsquo;s a web/mobile hybrid framework. Most likely using React Native.</p><h1 id=dissecting-the-application>Dissecting the Application<a hidden class=anchor aria-hidden=true href=#dissecting-the-application>#</a></h1><p>The only method to really confirm this is by cracking it open and have a look at the internals. Here, I will be using version <code>2.3.1</code> of the application downloaded from <a href=https://apkpure.com/hi-hive-community/com.slc.hihive.community>ApkPure</a>.</p><h2 id=unpacking-the-apk>Unpacking the <code>.apk</code><a hidden class=anchor aria-hidden=true href=#unpacking-the-apk>#</a></h2><p>I unpacked the .apk using <code>jadx</code> and immediately there are telltale signs of React Native.</p><p>For example, this image below shows configuration for a react native push notification library.</p><p><img loading=lazy src=./images/reactnative_proof.png alt="Image of configuration for a React Native library" title="Image of configuration for a React Native library"></p><p>Which upon further investigation, it appears that this was the library used: <a href=https://github.com/zo0r/react-native-push-notification>https://github.com/zo0r/react-native-push-notification</a>. It&rsquo;s a React Native library.</p><h2 id=checking-for-presence-of-indexandroidbundle>Checking for presence of <code>index.android.bundle</code><a hidden class=anchor aria-hidden=true href=#checking-for-presence-of-indexandroidbundle>#</a></h2><p>Furthermore, there is also presence of <code>index.android.bundle</code> as seen below.</p><p><img loading=lazy src=./images/reactnative_bundle_proof.png alt="Image of index.android.bundle in file structure" title="Image of index.android.bundle in file structure"></p><p>The <code>index.android.bundle</code> contains compiled and bundled JavaScript code for the application. Only React Native bundles this.</p><h2 id=disassembling-hermes-bytecode>Disassembling Hermes Bytecode<a hidden class=anchor aria-hidden=true href=#disassembling-hermes-bytecode>#</a></h2><p>Immediately, I tried to open the bundle using a text editor but it showed an error.</p><p><img loading=lazy src=./images/cannot_open_bundle.png alt="Image of cannot open bundle" title="Image of cannot open bundle"></p><p>After a google search, I found out that Hermes VM is the default compilation target for more recent versions of React Native. Which is confirmed using the <code>file</code> command:</p><p><img loading=lazy src=./images/file_command_result.png alt="Image of file tool showing result" title="Image of file tool showing result"></p><p>Fortunately, <a href=https://www.p1sec.com/blog/releasing-hermes-dec-an-open-source-disassembler-and-decompiler-for-the-react-native-hermes-bytecode>P1 Security</a> released a tool to disassemble, and decompile Hermes bytecodes.</p><p>Using the tool (<a href=https://github.com/P1sec/hermes-dec/>hermes-dec</a>), I disassembled the Hermes bytecode into somewhat readable pseudo-javascript.</p><p><img loading=lazy src=./images/not_so_readable_pseudocode.png alt="Image of not so readable pseudocode" title="Image of not so readable pseudocode"></p><p>However this is still super unreadable, due to it being converted from <code>javascript</code> to <code>obfuscated javascript</code> to <code>hermes bytecode</code> to <code>decompiled WASM</code> to <code>javascript pseudocode</code>.</p><p>This meant that it&rsquo;s a &ldquo;readable&rdquo; version of the WASM instructions, not how the original code is structured.</p><p>Ideally, I want to get the version of the application that converted <code>javascript</code> to <code>obfuscated javascript</code> which should be more readable, and actually represent the original code.</p><h2 id=back-to-the-square-one-and-cracking-an-older-version>Back to the square one and cracking an older version<a hidden class=anchor aria-hidden=true href=#back-to-the-square-one-and-cracking-an-older-version>#</a></h2><p>The <code>hermes-dec</code> project README states that React Native only started targetting the Hermes VM by default after React Native v0.70.</p><p>I thought, <em>what if the targetting of Hermes VM isn&rsquo;t actually on purpose by the developer?</em> So I grabbed version <code>1.0.2</code> of the application which was released before React Native v0.70, and cracked it open.</p><p>As predicted! The <code>index.android.bundle</code> file is only obfuscated Javascript, not Hermes bytecode!</p><p><img loading=lazy src=./images/more_readable_bundle.png alt="Image of more readable bundle" title="Image of more readable bundle"></p><p>This is a more readable version of the <code>index.android.bundle</code> file compared to the one from version <code>2.3.1</code>, not by much but it&rsquo;s still better than nothing.</p><p>What this means is that I now have a base from which to reverse engineer the API used by the application.</p><h1 id=reverse-engineering-and-mapping-the-api>Reverse engineering and mapping the API<a hidden class=anchor aria-hidden=true href=#reverse-engineering-and-mapping-the-api>#</a></h1><p>After a bit of searching, I found the following parts. It seems to be an object containing the API domain, and all the endpoints.</p><p><img loading=lazy src=./images/api_constants.png alt="Image of API constants" title="Image of API constants"></p><blockquote><p>NOTE: Through comparing v1.0.2 and v2.3.1, I noticed that <code>API_DOMAIN</code> was pointing to <code>www.silverlakemobility.com</code> in v1.0.2 but is now pointing to <code>www.hi-hive.com</code> in v2.3.1.</p></blockquote><p>To implement the application, I only need to figure out some of the endpoints.</p><p>The API endpoints relevant to us are:</p><ul><li>Authentication</li><li>Listing classes, and attendance</li><li>Scanning QR codes</li></ul><p>With these, I can start mapping the needed endpoints and figure out what to pass to it.</p><h2 id=cracking-the-authentication-method>Cracking the authentication method<a hidden class=anchor aria-hidden=true href=#cracking-the-authentication-method>#</a></h2><p>Looking through the rest, I found a code snippet that shows how the API is being used. This snippet is a callback function for when the login button is pressed.</p><p><img loading=lazy src=./images/firebase_restriction.png alt="Image of firebase restriction" title="Image of firebase restriction"></p><p>It seems to be a bunch of nested async functions, and what it does is:</p><ol><li>Loads a Firebase Cloud Messaging (FCM) token from local storage.</li><li>Then use the token to encrypt the password using the <code>convertPBEWithMD5AndDES</code> function.</li><li>Then pass the resulting encrypted password as part of the payload.</li></ol><h3 id=the-login-api-call>The Login API Call<a hidden class=anchor aria-hidden=true href=#the-login-api-call>#</a></h3><p>The application then calls the login endpoint with the following JSON payload structure:</p><p><code>POST https://www.hi-hive.com/chat/api/preLogin/login</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;userId&#34;</span>: <span style=color:#e6db74>&#34;your user email&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;password&#34;</span>: <span style=color:#e6db74>&#34;encrypted version of your password&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;os&#34;</span>: <span style=color:#e6db74>&#34;Ios or Android&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;token&#34;</span>: <span style=color:#e6db74>&#34;The FCM token used to encrypt the password.&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>I suspect what happens here is that there was a requirement to not send passwords over the internet in plain text even when secured by SSL.</p><p>The token is also sent alongside the password, which I assume is used to decrypt it, and/or used to verify that the password was encrypted with a valid token, possibly ones related to the developer to prevent a third party client.</p><h2 id=roadblock-to-putting-together-a-library>Roadblock to putting together a library<a hidden class=anchor aria-hidden=true href=#roadblock-to-putting-together-a-library>#</a></h2><p>This puts a big roadblock on our goal. What effectively happens in the end is that the login method is made a lot harder to reverse engineer since you have to somehow generated the FCM token.</p><p>One method to solve this is to reverse engineer the FCM SDK, then figure out if it&rsquo;s possible to generate legit FCM tokens, and then check if authentication would work with that generated token.</p><p>Until then, listing classes, listing attendance, and scanning QR codes is essentially unusable. It&rsquo;ll probably stay that way since I&rsquo;m not very interested in reverse engineering the FCM SDK, especially when I&rsquo;m graduating and won&rsquo;t be able to use the results myself.</p><h1 id=other-method-network-monitoring>Other method (Network Monitoring)<a hidden class=anchor aria-hidden=true href=#other-method-network-monitoring>#</a></h1><p>Apart from inspecting the unobfuscated code, I&rsquo;ve used network monitoring to figure out the various endpoints and their needed payload which brought similar results.</p><p>This was achieved by:</p><ol><li>Preparing the application for network monitoring by:<ul><li>Cracking it open.</li><li>Editing the <code>AndroidManifest.xml</code> file so that it trust user added SSL Certificates.</li><li>Repacking, and installing it on a device.</li></ul></li><li>Preparing the device by installing a third party SSL Certificate from CharlesProxy.</li><li>Monitoring the traffic of the device (and by proxy the application) using <a href=https://www.charlesproxy.com/>CharlesProxy</a>.</li></ol><p>I was able to actually login using the tokens and encrypted password intercepted here which returned a session token, but I wasn&rsquo;t able to capitalize on it due to the same problems stated before.</p><h1 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h1><p>So in summary, logging in returns a session token that you can use to access the other authenticated endpoints but since we need the token to encrypt the password, it&rsquo;s not feasible to create a third party client unless we also reverse engineer Google&rsquo;s FCM SDK.</p><p>All in all, a fun adventure, learnt quite a bit about Android and React Native + reverse engineering android applications.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://yiikuochong.com/tags/react-native/>react-native</a></li><li><a href=https://yiikuochong.com/tags/android/>android</a></li><li><a href=https://yiikuochong.com/tags/javascript/>javascript</a></li><li><a href=https://yiikuochong.com/tags/reverse-engineering/>reverse-engineering</a></li></ul><nav class=paginav><a class=prev href=https://yiikuochong.com/posts/my-experience-with-job-hunting-in-singapore/><span class=title>« Prev</span><br><span>My experience with job hunting in Singapore as a Software Engineer</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Reverse Engineering Hi-Hive Community on x" href="https://x.com/intent/tweet/?text=Reverse%20Engineering%20Hi-Hive%20Community&amp;url=https%3a%2f%2fyiikuochong.com%2fposts%2freverse-engineering-hi-hive-community%2f&amp;hashtags=react-native%2candroid%2cjavascript%2creverse-engineering"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reverse Engineering Hi-Hive Community on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fyiikuochong.com%2fposts%2freverse-engineering-hi-hive-community%2f&amp;title=Reverse%20Engineering%20Hi-Hive%20Community&amp;summary=Reverse%20Engineering%20Hi-Hive%20Community&amp;source=https%3a%2f%2fyiikuochong.com%2fposts%2freverse-engineering-hi-hive-community%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reverse Engineering Hi-Hive Community on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fyiikuochong.com%2fposts%2freverse-engineering-hi-hive-community%2f&title=Reverse%20Engineering%20Hi-Hive%20Community"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reverse Engineering Hi-Hive Community on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fyiikuochong.com%2fposts%2freverse-engineering-hi-hive-community%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reverse Engineering Hi-Hive Community on whatsapp" href="https://api.whatsapp.com/send?text=Reverse%20Engineering%20Hi-Hive%20Community%20-%20https%3a%2f%2fyiikuochong.com%2fposts%2freverse-engineering-hi-hive-community%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reverse Engineering Hi-Hive Community on telegram" href="https://telegram.me/share/url?text=Reverse%20Engineering%20Hi-Hive%20Community&amp;url=https%3a%2f%2fyiikuochong.com%2fposts%2freverse-engineering-hi-hive-community%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Reverse Engineering Hi-Hive Community on ycombinator" href="https://news.ycombinator.com/submitlink?t=Reverse%20Engineering%20Hi-Hive%20Community&u=https%3a%2f%2fyiikuochong.com%2fposts%2freverse-engineering-hi-hive-community%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://yiikuochong.com>Yii Kuo Chong</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>